{"ast":null,"code":"import { collection, addDoc, serverTimestamp } from 'firebase/firestore';\nimport { db } from '../firebase';\nexport async function guardarLead({\n  nombre,\n  telefono,\n  servicio,\n  origen\n}) {\n  const tel = String(telefono || '').replace(/[-\\s]/g, '');\n  if (!/^\\+58\\d{10}$/.test(tel)) throw new Error('Teléfono inválido. Formato +58xxxxxxxxxx');\n  const payload = {\n    nombre: (nombre || '').trim().toUpperCase(),\n    telefono: tel,\n    servicio: (servicio || '').trim().toUpperCase(),\n    origen: origen || 'landing',\n    creadoEn: serverTimestamp()\n  };\n  return addDoc(collection(db, 'leads'), payload);\n}","map":{"version":3,"names":["collection","addDoc","serverTimestamp","db","guardarLead","nombre","telefono","servicio","origen","tel","String","replace","test","Error","payload","trim","toUpperCase","creadoEn"],"sources":["C:/Users/j_alf/Documents/kaNGaRoo_Projects/turbinasmcbo-landing/src/lib/leadsFirebase.js"],"sourcesContent":["import { collection, addDoc, serverTimestamp } from 'firebase/firestore';\r\nimport { db } from '../firebase';\r\n\r\nexport async function guardarLead({ nombre, telefono, servicio, origen }) {\r\n  const tel = String(telefono || '').replace(/[-\\s]/g, '');\r\n  if (!/^\\+58\\d{10}$/.test(tel)) throw new Error('Teléfono inválido. Formato +58xxxxxxxxxx');\r\n  const payload = {\r\n    nombre: (nombre || '').trim().toUpperCase(),\r\n    telefono: tel,\r\n    servicio: (servicio || '').trim().toUpperCase(),\r\n    origen: origen || 'landing',\r\n    creadoEn: serverTimestamp(),\r\n  };\r\n  return addDoc(collection(db, 'leads'), payload);\r\n}\r\n"],"mappings":"AAAA,SAASA,UAAU,EAAEC,MAAM,EAAEC,eAAe,QAAQ,oBAAoB;AACxE,SAASC,EAAE,QAAQ,aAAa;AAEhC,OAAO,eAAeC,WAAWA,CAAC;EAAEC,MAAM;EAAEC,QAAQ;EAAEC,QAAQ;EAAEC;AAAO,CAAC,EAAE;EACxE,MAAMC,GAAG,GAAGC,MAAM,CAACJ,QAAQ,IAAI,EAAE,CAAC,CAACK,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;EACxD,IAAI,CAAC,cAAc,CAACC,IAAI,CAACH,GAAG,CAAC,EAAE,MAAM,IAAII,KAAK,CAAC,0CAA0C,CAAC;EAC1F,MAAMC,OAAO,GAAG;IACdT,MAAM,EAAE,CAACA,MAAM,IAAI,EAAE,EAAEU,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IAC3CV,QAAQ,EAAEG,GAAG;IACbF,QAAQ,EAAE,CAACA,QAAQ,IAAI,EAAE,EAAEQ,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IAC/CR,MAAM,EAAEA,MAAM,IAAI,SAAS;IAC3BS,QAAQ,EAAEf,eAAe,CAAC;EAC5B,CAAC;EACD,OAAOD,MAAM,CAACD,UAAU,CAACG,EAAE,EAAE,OAAO,CAAC,EAAEW,OAAO,CAAC;AACjD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}